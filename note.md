## 1. 五个阶段

![image-20230625152809808](D:\typora\图片\image-20230625152809808.png)

![](D:\typora\图片\MIPS五级流水.png)

（1）取指阶段 

- PC模块：给出指令地址，其中实现指令指针寄存器PC，该寄存器的值就是指令地址，对应pc_reg.v文件。

- IF/ID模块：实现取指与译码阶段之间的寄存器，将取指阶段 的结果（取得的指令、指令地址等信息）在下一个时钟传递 到译码阶段，对应if_id.v文件。 

（2）译码阶段 

- ID模块：对指令进行译码，译码结果包括运算类型、运算所 需的源操作数、要写入的目的寄存器地址等，对应id.v文件。 

- Regfile模块：实现了32个32位通用整数寄存器，可以同时进 行两个寄存器的读操作和一个寄存器的写操作，对应 regfile.v文件。

- ID/EX模块：实现译码与执行阶段之间的寄存器，将译码阶段 的结果在下一个时钟周期传递到执行阶段，对应id_ex.v文件。 

（3）执行阶段 

- EX模块：依据译码阶段的结果，进行指定的运算，给出运算 结果。对应ex.v文件。 

- DIV模块：进行除法运算的模块，对应div.v文件。 

- EX/MEM模块：实现执行与访存阶段之间的寄存器，将执行阶 段的结果在下一个时钟周期传递到访存阶段，对应ex_mem.v 文件。 

（4）访存阶段 

- MEM模块：如果是加载、存储指令，那么会对数据 存储器进行 访问。此外，还会在该模块进行异常判断。对应mem.v文件。 

- MEM/WB模块：实现访存与回写阶段之间的寄存器，将访存阶 段的结果在下一个时钟周期传递到回写阶段，对应mem_wb.v 文件。 

（5）回写阶段 

- CP0模块：对应MIPS架构中的协处理器CP0。 

- LLbit模块：实现寄存器LLbit，在链接加载指令ll、条件存 储指令sc的处理过程中会使用到该寄存器，第9章会详述。 

- HILO模块：实现寄存器HI、LO，在乘法、除法指令的处理过 程中会使用到这两个寄存器，第7章会详述。

## 2.跳转指令

![image-20230629092052525](D:\typora\图片\image-20230629092052525.png)



## 3.访存指令

![image-20230630110039836](D:\typora\图片\image-20230630110039836.png)